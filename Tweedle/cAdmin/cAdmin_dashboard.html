<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- My CSS -->
    <link rel="stylesheet" href="../static/css/cAdmin_dashboard_style.css">
    <script src="../static/js/cAdmin_script.js" defer></script>

    <title>Tweedle - InProgress</title>
</head>
<body>
    <!-- MAIN DASHBOARD CONTENT -->
    <main>
        <div class="head-title">
            <div class="left">
                <h1>Dashboard</h1>
            </div>
        </div>

        <!-- Filter Controls Section : Company sort, date picker, global search bar -->
        <div class="filter-controls">
            <div class="filter-container">
                <!-- Company Filter -->
                <div style="position: relative;">
                    <button class="filter-btn" id="companyBtn">
                        <span id="companyText"><i class='bx bx-align-justify'></i>Sort by Company</span>
                        <div class="dropdown-icon"></div>
                    </button>
                    <div class="dropdown company-dropdown" id="companyDropdown">
                        <div class="company-option selected" data-company="all">All Companies</div>
                        <div class="company-option" data-company="gmec">GMEC</div>
                        <div class="company-option" data-company="BGEX">BGEX</div>
                    </div>
                </div>

                <!-- Date Filter -->
                <div style="position: relative;">
                    <button class="filter-btn" id="dateBtn">
                        <span id="dateText"><i class='bx bx-calendar-alt'></i>  Any Date</span>
                        <div class="dropdown-icon"></div>
                    </button>
                    <div class="dropdown date-dropdown" id="dateDropdown">
                        <div class="date-inputs">
                            <div class="date-input-group">
                                <label>From</label>
                                <input type="date" class="date-input" id="fromDate" value="20-07-2025">
                            </div>
                            <div class="date-separator">â€”</div>
                            <div class="date-input-group">
                                <label>To</label>
                                <input type="date" class="date-input" id="toDate" value="20-08-2025">
                            </div>
                        </div>
                        <div class="quick-filters">
                            <button class="quick-filter" data-period="today">Today</button>
                            <button class="quick-filter" data-period="thismonth">This Month</button>
                            <button class="quick-filter" data-period="past3months">Past 3 Months</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ðŸ” Search box on right -->
            <div class="search-form-wrapper">
                <form action="#">
                    <div class="search-form-input">
                        <input type="search" placeholder="Search ticket id...">
                        <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
                    </div>
                </form>
            </div>
        </div>


        <!--Ticket box tabs-->
        <ul class="box-info">
            <li>
                <i class='bx bxs-envelope'></i>
                <span class="text">
                    <h3>10</h3>
                    <p>Inbox</p>
                </span>
            </li>
            <li>
                <i class='bx bxs-hourglass'></i>
                <span class="text">
                    <h3>28</h3>
                    <p>In Progress</p>
                </span>
            </li>
            <li>
                <i class='bx bx-send'></i>
                <span class="text">
                    <h3>34</h3>
                    <p>Forwarded</p>
                </span>
            </li>
            <li>
                <i class='bx bx-check-circle'></i>
                <span class="text">
                    <h3>243</h3>
                    <p>Closed</p>
                </span>
            </li>
        </ul>


        <div class="table-data">
            <div class="order">
                <div class="head">
                    <h3>Tickets <span class="highlight-status">INPROGRESS</span></h3>
                    <div class="search-container">
                        <i class='bx bx-search search-icon' aria-hidden="true"></i>
                        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search ticket id or Subject..." title="Type to search" aria-label="Search tickets">
                        <div id="searchFeedback" class="search-feedback" aria-live="polite"></div>
                    </div>                                      
                    <i class='bx bx-filter filter-icon'></i>
                    <i class='bx bx-dots-vertical-rounded options'></i>
                </div>
                <table id="myUL">
                    <thead>
                        <tr>
                            <th>Ticket ID</th>
                            <th>Subject</th>
                            <th>Issue Date</th>
                            <th>Client</th>
                            <th>Status</th>
                            <th>Allottee</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010001</td>
                            <td>
                                <div>Wallet Option Agents</div>
                                <div class="attachment-container">
                                    <i class='bx bxs-file-pdf attachment-icon pdf'></i>
                                    <span class="attachment-name">wallet_specs.pdf</span>
                                </div>
                            </td>
                            <td>11-09-2021</td>                       
                            <td>GMEC</td>                           
                            <td><span class="status testing">Testing</span></td>
                            <td>Manju</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010002</td>
                            <td>
                                <div>Terra pay</div>
                                <div class="attachment-container">
                                    <i class='bx bxs-file-doc attachment-icon doc'></i>
                                    <span class="attachment-name">terra_integration_guide.docx</span>
                                </div>
                            </td>
                            <td>23-01-2022</td>                          
                            <td>GMEC</td>
                            <td><span class="status development">Development</span></td>
                            <td>Arun</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010003</td>
                            <td>Recon issue</td>
                            <td>24-04-2020</td>                           
                            <td>GMEC</td>
                            <td><span class="status development">Development</span></td>
                            <td>Sanoop</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010004</td>
                            <td>Kumari API Intergration</td>
                            <td>08-01-2022</td>
                            <td>GMEC</td>
                            <td><span class="status testing">Testing</span></td>
                            <td>Akhil</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010005</td>
                            <td>Missing March Data</td>
                            <td>22-11-2025</td>
                            <td>BGEX</td>                           
                            <td><span class="status development">Development</span></td>
                            <td>Rithik</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i> GMEC25010006</td>
                            <td>Federal bank API failure</td>
                            <td>03-12-2025</td>
                            <td>BGEX</td>                           
                            <td><span class="status development">Development</span></td>
                            <td>Rithik</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i>GMEC25010007</td>
                            <td>Federal bank API failure</td>
                            <td>10-12-2025</td>
                            <td>BGEX</td>                           
                            <td><span class="status development">New</span></td>
                            <td>-</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                        <tr>
                            <td><i class='bx bx-star star-icon'></i>GMEC25010008</td>
                            <td>Bank transfer UI fix</td>
                            <td>12-12-2025</td>
                            <td>GMEC</td>                           
                            <td><span class="status development">New</span></td>
                            <td>-</td>
                            <td class="actions">
                                <i class='bx bx-time-five timeline-icon' role="button" aria-label="View timeline"></i>
                                <i class='bx bx-chat chat-icon' role="button" aria-label="Open chat"></i>
                                <i class='bx bx-dots-vertical-rounded more-icon' role="button" aria-label="More options"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
 
    <script>

         //functionality for the star icons
        document.addEventListener('DOMContentLoaded', function() {
            const starIcons = document.querySelectorAll('.star-icon');
            
            starIcons.forEach(star => {
                star.setAttribute('role', 'button');
                star.setAttribute('aria-label', 'Favorite this ticket');
                
                const handleStarAction = function() {
                    this.classList.toggle('active');
                    
                    // Update the icon class to filled star when active
                    if (this.classList.contains('active')) {
                        this.classList.remove('bx-star');
                        this.classList.add('bxs-star');
                        this.setAttribute('aria-label', 'Remove from favorites');
                    } else {
                        this.classList.remove('bxs-star');
                        this.classList.add('bx-star');
                        this.setAttribute('aria-label', 'Add to favorites');
                    }
                };
                
                // Allow both click and keyboard interaction
                star.addEventListener('click', function(e) {
                    e.stopPropagation();
                    handleStarAction.call(this);
                });
                
                star.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        handleStarAction.call(this);
                    }
                });
            });
        });


        //filter for company select and date filter:::
        // Company filter functionality
        const companyBtn = document.getElementById('companyBtn');
        const companyDropdown = document.getElementById('companyDropdown');
        const companyText = document.getElementById('companyText');
        const companyOptions = document.querySelectorAll('.company-option');

        companyBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            companyDropdown.classList.toggle('active');
            dateDropdown.classList.remove('active');
        });

        companyOptions.forEach(option => {
            option.addEventListener('click', () => {
                // Remove selected class from all options
                companyOptions.forEach(opt => opt.classList.remove('selected'));
                // Add selected class to clicked option
                option.classList.add('selected');
                // Update button text
                companyText.textContent = option.textContent;
                // Close dropdown
                companyDropdown.classList.remove('active');
            });
        });

        // Date filter functionality
        const dateBtn = document.getElementById('dateBtn');
        const dateDropdown = document.getElementById('dateDropdown');
        const dateText = document.getElementById('dateText');
        const fromDate = document.getElementById('fromDate');
        const toDate = document.getElementById('toDate');
        const quickFilters = document.querySelectorAll('.quick-filter');

        dateBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            dateDropdown.classList.toggle('active');
            companyDropdown.classList.remove('active');
        });

        // Quick filter functionality
        quickFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                // Remove selected class from all quick filters
                quickFilters.forEach(f => f.classList.remove('selected'));
                // Add selected class to clicked filter
                filter.classList.add('selected');
                
                const period = filter.dataset.period;
                const today = new Date();
                let startDate, endDate;

                switch(period) {
                    case 'today':
                        startDate = endDate = today;
                        dateText.textContent = 'Today';
                        break;
                    case 'thismonth':
                        startDate = new Date(today.getFullYear(), today.getMonth(), 1);
                        endDate = today;
                        dateText.textContent = 'This Month';
                        break;
                    case 'past3months':
                        startDate = new Date(today.getFullYear(), today.getMonth() - 3, 1);
                        endDate = today;
                        dateText.textContent = 'Past 3 Months';
                        break;
                }

                // Update date inputs
                fromDate.value = startDate.toISOString().split('T')[0];
                toDate.value = endDate.toISOString().split('T')[0];
                
                // Close dropdown after a short delay
                setTimeout(() => {
                    dateDropdown.classList.remove('active');
                }, 200);
            });
        });

        // Custom date input change handlers
        fromDate.addEventListener('change', updateCustomDateText);
        toDate.addEventListener('change', updateCustomDateText);

        function updateCustomDateText() {
            if (fromDate.value && toDate.value) {
                // Clear quick filter selections
                quickFilters.forEach(f => f.classList.remove('selected'));
                // Update button text to show custom range
                const from = new Date(fromDate.value).toLocaleDateString();
                const to = new Date(toDate.value).toLocaleDateString();
                dateText.textContent = `${from} - ${to}`;
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', () => {
            companyDropdown.classList.remove('active');
            dateDropdown.classList.remove('active');
        });

        // Prevent dropdown close when clicking inside
        companyDropdown.addEventListener('click', (e) => e.stopPropagation());
        dateDropdown.addEventListener('click', (e) => e.stopPropagation());
        

    </script>
</body>
</html>

<!-- end of v1 -->